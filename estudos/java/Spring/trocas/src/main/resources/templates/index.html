<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="banner">
        <h2 id="titulo">Trocas</h2>

        <span id="busca"><input><button>a</button></span>

        <button id="opcs" onclick= options.style.display="block" >=</button>
    </div>


    <div id="options">
        <a th:href="@{/criar}"><h3 id="send_produtos">colocar produtos</h3></a>
    </div>

    <th:block th:each="produto : ${produtos}">
    <div id="doentio">
        
        <h3 id="sh-nom" th:text="${produto.nomeDoProduto}"></h3>
        <h3 id="sh-desc" th:text="${produto.descricao}"></h3>
        <h3 id="sh-req" th:text="${produto.desejo}"></h3>
        <div><Button id="whazap"><h3 id="whatzap_text">whatzap</h3></Button></div>
    </div>
    </th:block>



    <script>
document.addEventListener("DOMContentLoaded", function () {
    const blokinho = document.getElementById("doentio");
    const nom = document.getElementById("sh-nom");
    const req = document.getElementById("sh-req");

    function verificarEsvaziamento() {
        if ((!nom || nom.textContent.trim() === "") && (!req || req.textContent.trim() === "")) {
            blokinho.style.display = "none"; // Esconde a div se ambas h3 estiverem vazias
        } else {
            blokinho.style.display = "block"; // Mostra a div se pelo menos uma h3 tiver conteúdo
        }
    }

    verificarEsvaziamento();

    // Observa mudanças nas h3
    const observer = new MutationObserver(verificarEsvaziamento);
    observer.observe(nom, { childList: true, subtree: true });
    observer.observe(req, { childList: true, subtree: true });
});

        

    

    </script>

</body>

<style>
    #banner{
    position: absolute;
    display: flex;
    flex-wrap: nowrap;

    top: 0px;
    left: 0px;
    width: 100vw;
    height: 100px;
    background: linear-gradient(50deg,#7eedba,#b565c0,#772f50);

}

#titulo{
    position: absolute;
    top: 10px;
    left:200px;
    
}

#busca{
    position: relative;
    top: 30px;
    left: 600px;

    border-radius: 20px ;
    
}

#opcs{
    position: relative;
    left: 750px;
    top:30px;

}

#options{
    width: 100vw;
    height: 100px;
    position:absolute;
    top: 100px;
    left:0;
    background-color: antiquewhite;
    border-radius: 20px ;
    display: none;
    z-index: 100;



}
#doentio{
    position:relative;
    top: 100px;

    width: 550px;
    height: 300px;
    background-color: #ceeb95;
    border-radius:20px;
    border-style:groove;
}
#whazap{
    position:absolute;
    height: 50px;
    width: 300px;
    left: 20%;
    background:linear-gradient(25deg,rgb(17, 221, 27),rgb(83, 224, 76));
    border-radius: 20px;
    border-style:none ;
    top: 200px;
}


</style>

</html>